---
title: "Data summary"
execute:
  echo: false
format: html
editor: visual
---

```{r}
library(tidyverse)
library(ggplot2)
library(tibble)
library(knitr)
library(kableExtra)
library(stringr)

  setwd('C:/Users/mgues/OneDrive - Concordia University - Canada/Desktop/GitHub Reps/Backyard-Birds-MG')

data_2025 <- read.csv("1-Input/data_2025.csv")
data_2024 <- read.csv("1-Input/data_2024.csv")
plant_bird_matrix <- read.csv("4-Output/bird_plant_matrix.csv")
```

## Numbers and totals

Total number of observations for **2024** (4 surveys, May-August) and **2025** (3 surveys, April -July)

```{r}

#total number of obvs for 2025
n25 <- 953 - (sum(is.na(data_2025$Bird.code)))

#total number of obvs for 2024
n24 <- 1003 - (sum(is.na(data_2024$Bird.code)))

spp.24 <- n_distinct(data_2024$Bird.code) #minus 1 because NA
spp.25 <- n_distinct(data_2025$Bird.code) #minus 2 because NA and unknown

```

1. 971 observations in 2024 
2. 924 observation in 2025
3. 28 species recorded in 2024 
4. 39 species recorded in 2025

### Count for each species

::: {layout-ncol="2"}
![Bird count 2025](bird_count25.png)

![Bird count 2024](bird_count24.png)
:::

### Count for each behaviour

```{r}
behaviour_count25 <- data_2025 %>%
  drop_na(Behaviour.type) %>% 
  group_by(Behaviour.type) %>%
  summarise(Total = n(), 
    Yard = sum(str_detect(Code, "Y"), na.rm = TRUE),
    Street = sum(str_detect(Code, "S"), na.rm = TRUE)) %>%
  arrange(desc(Total))

behaviour_count24 <- data_2024 %>%
  drop_na(Behaviour.type) %>% 
  group_by(Behaviour.type) %>%
  summarise(Total = n(), 
    Yard = sum(str_detect(Code, "Y"), na.rm = TRUE),
    Street = sum(str_detect(Code, "S"), na.rm = TRUE)) %>%
  arrange(desc(Total))
```

::: {layout-ncol="2"}
```{r}
kable(behaviour_count25, caption="Behaviour counts 2025")
```

```{r}
kable(behaviour_count24, caption="Behaviour counts 2024")
```
:::

```{r}
kable(plant_bird_matrix, caption="Plant bird matrix")
```

The `echo: false` option disables the printing of code (only output is displayed).
